(this["webpackJsonptodo-hooks"]=this["webpackJsonptodo-hooks"]||[]).push([[0],{24:function(e,t,n){},36:function(e,t,n){},40:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),i=n.n(a),r=n(29),s=n.n(r),o=(n(36),n(24),n(25)),j=n(5),u=n(13),l=n(18);n(37),n(46);l.a.initializeApp({apiKey:"AIzaSyDRoIAlW3caflcx-ax6o40VbfNcqxXI0F4",authDomain:"plantime-7d8e2.firebaseapp.com",projectId:"plantime-7d8e2",storageBucket:"plantime-7d8e2.appspot.com",messagingSenderId:"175309483958",appId:"1:175309483958:web:d6c2aef9adc0f03eecdb17",measurementId:"G-N1HDPPBVPV"});var d=l.a.auth(),b=(l.a.firestore(),new l.a.auth.GoogleAuthProvider),h=Object(a.createContext)({user:null}),O=function(e){var t=e.children,n=Object(a.useState)(null),i=Object(u.a)(n,2),r=i[0],s=i[1];return Object(a.useEffect)((function(){d.onAuthStateChanged((function(e){return s(e)}))}),[]),Object(c.jsx)(h.Provider,{value:{user:r},children:t})},x=function(){var e=Object(a.useContext)(h).user;return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("button",{className:"loginbutton",onClick:function(){e||d.signInWithPopup(b)},children:"Log In"})})},f=n(21),p=(n(40),function(e){var t=e.add,n=Object(a.useContext)(h).user,i=(new Date).toISOString().slice(0,10),r=1*i.slice(0,4)+1;r+="-12-31";var s=Object(a.useState)(""),o=Object(u.a)(s,2),j=o[0],l=o[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),O=b[0],x=b[1],f=Object(a.useState)(i),p=Object(u.a)(f,2),g=p[0],m=p[1];return Object(c.jsxs)("div",{className:"form",children:[Object(c.jsx)("input",{type:"text",placeholder:"Wpisz zadanie...",value:j,onChange:function(e){l(e.target.value)}}),Object(c.jsx)("input",{type:"checkbox",checked:O,id:"important",onChange:function(e){x(e.target.checked)}}),Object(c.jsx)("label",{htmlFor:"important",children:"Priorytet"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{htmlFor:"date",children:"Do kiedy zrobi\u0107: "}),Object(c.jsx)("input",{type:"date",id:"date",value:g,min:i,max:r,onChange:function(e){m(e.target.value)}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){n?j&&(t(j,g,O)?(l(j),x(!1),m(i)):alert("Wprowad\u017a tre\u015b\u0107 zadania!")):alert("Musisz si\u0119 zalogowa\u0107")},children:"Dodaj"}),Object(c.jsx)("hr",{})]})}),g=function(e){var t=e.task,n=e.deleteTask,a=e.change,i=t.text,r=t.date,s=t.id,o=t.active,j=t.important,u=t.finishDate;if(o)return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{style:j?{color:"red"}:null,children:i})," - do ",Object(c.jsxs)("span",{children:[r," "]}),Object(c.jsx)("button",{onClick:function(){return a(s)},children:"Zosta\u0142o zrobione"}),Object(c.jsx)("button",{onClick:function(){return n(s)},children:"X"})]})});var l=new Date(u).toLocaleString();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:i})," ",Object(c.jsxs)("em",{children:["(do ",r,")"]}),Object(c.jsx)("br",{}),"- potwierdzenie wykonania: ",Object(c.jsxs)("span",{children:[l," "]}),Object(c.jsx)("button",{onClick:function(){return n(s)},children:"X"})]})})},m=function(e){var t=e.tasks,n=e.deleteTask,a=e.change,i=t.filter((function(e){return e.active})),r=t.filter((function(e){return!e.active}));r.length>=2&&r.sort((function(e,t){return t.finishDate-e.finishDate})),i.length>=2&&i.sort((function(e,t){return(e=e.text.toLowerCase())<(t=t.text.toLowerCase())?-1:e>t?1:0}));var s=i.map((function(e){return Object(c.jsx)(g,{task:e,deleteTask:n,change:a},e.id)})),o=r.map((function(e){return Object(c.jsx)(g,{task:e,deleteTask:n,change:a},e.id)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"active",children:[Object(c.jsx)("h2",{children:"Zadania do zrobienia:"}),s.length>0?s:Object(c.jsx)("p",{children:"Ale szcz\u0119\u015bcie :)"})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"done",children:[Object(c.jsxs)("h2",{children:["Zadania zrobione ",Object(c.jsxs)("em",{children:["(",r.length,")"]}),":"]}),r.length>5&&Object(c.jsx)("span",{style:{fontSize:"10px"},children:"Wy\u015bwietlonych jest ostatnich 5 zada\u0144"}),o.slice(0,5)]})]})},v=function(){var e=Object(a.useState)([{id:0,text:"Doda\u0107 osobne taski dla ka\u017cdego u\u017cytkownika",date:"2021-03-01",important:!1,finishDate:null,active:!0},{id:1,text:"Dostosowa\u0107 CSS",date:"2021-03-01",important:!1,finishDate:null,active:!0}]),t=Object(u.a)(e,2),n=t[0],i=t[1],r=n.length;return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h1",{children:"To Do App"}),Object(c.jsx)("button",{className:"signout",onClick:function(){d.signOut(),alert("You were signed out")},children:"Log Out"}),Object(c.jsx)(p,{tasks:n,add:function(e,t,n){var c={id:r,text:e,date:t,important:n,finishDate:null,active:!0};return r++,i((function(e){return[].concat(Object(f.a)(e),[c])})),!0}}),Object(c.jsx)(m,{tasks:n,deleteTask:function(e){var t=Object(f.a)(n);t=t.filter((function(t){return t.id!==e})),i(t)},change:function(e){var t=Object(f.a)(n);t.forEach((function(n){n.id===e&&(n.active=!1,n.finishDate=(new Date).getTime()),i(t)}))}})]})},k=function(){var e=Object(a.useContext)(h).user;return Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",render:function(){return e?Object(c.jsx)(v,{}):Object(c.jsx)(j.a,{to:"/login"})}}),Object(c.jsx)(j.b,{path:"/login",render:function(){return e?Object(c.jsx)(j.a,{to:"/"}):Object(c.jsx)(x,{})}}),Object(c.jsx)(j.b,{render:function(){return e?Object(c.jsx)(j.a,{to:"/"}):Object(c.jsx)(j.a,{to:"/login"})}})]})},C=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(O,{children:Object(c.jsx)(o.a,{basename:"/plan-time",children:Object(c.jsx)(k,{})})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),D()}},[[45,1,2]]]);
//# sourceMappingURL=main.c52c6418.chunk.js.map